@layout LoginLayout

@page "/login"

<style>
    .rz-textbox {
        width: 100%;
    }

    .rz-button-sm {
        display: none;
    }

    .text-danger {
        font-size: small
    }
</style>

<PageTitle>Login</PageTitle>

<RadzenRow class=" mt-3 mb-1" Style="width:100%">
    <RadzenColumn>
        <p class="mt-2 mb-4" style="font-weight: 100;">
            Please sign-in to your account with valid username and password
        </p>
        <EditForm EditContext="editContext" OnValidSubmit="SubmitLogin" FormName="loginForm">
            <DataAnnotationsValidator />
            <RadzenColumn Size="12" SizeMD="4">
                <label for="UserName" class="rz-label">Username</label>
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="4">
                <InputText @bind-Value="User.EmailAddress" class="rz-textbox rz-state-empty mt-2" maxlength="150" autocomplete="off" />
                <ValidationMessage For="@(()=>User.EmailAddress)" class="text-danger"></ValidationMessage>
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="4">
                <label for="UserName" class="rz-label mt-1">Password</label>
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="4">
                <div class="password-group">
                    <InputText type="password" @bind-Value="User.Password" id="login-password-text" class="rz-textbox rz-state-empty mt-2" maxlength="150" autocomplete="off" />
                    <i class="rz-button-icon-left rzi" style="font-size:20px;" onclick="togglePassword()">visibility</i>
                </div>
                <ValidationMessage For="@(()=>User.Password)" class="text-danger"></ValidationMessage>
            </RadzenColumn>
            <RadzenAlert class="mt-3 mb-3" Shade="Radzen.Shade.Lighter" Variant="Radzen.Variant.Flat" Size="Radzen.AlertSize.Small" AlertStyle="Radzen.AlertStyle.Danger" Visible="@errorVisible">@error</RadzenAlert>
            <RadzenAlert class="mt-3 mb-3" Shade="Radzen.Shade.Lighter" Variant="Radzen.Variant.Flat" Size="Radzen.AlertSize.Small" AlertStyle="Radzen.AlertStyle.Info" Visible="@infoVisible">@info</RadzenAlert>
            <RadzenColumn class="mt-4" Style=" display: flex; justify-content: center; ">
                <RadzenButton Variant="Variant.Flat" ButtonType="ButtonType.Submit" Text="LogIn" ButtonStyle="ButtonStyle.Primary" class="w-100" />
            </RadzenColumn>
        </EditForm>
        <RadzenColumn class="mt-3" Style=" display: flex; justify-content: center; ">
            <NavLink href="forgot-password" style="color: var(--rz-primary); text-decoration: underline; cursor: pointer;">Forgot Password?</NavLink>
        </RadzenColumn>
    </RadzenColumn>
</RadzenRow>

